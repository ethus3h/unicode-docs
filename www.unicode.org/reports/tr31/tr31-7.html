<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"

       "http://www.w3.org/TR/REC-html40/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Language" content="en-us">
<title>UAX #31: Identifier and Pattern Syntax</title>

<!-- WEB ONLY -->
<link rel="stylesheet" type="text/css" href="../reports-web.css">
<!-- BOOK ONLY 
<link rel="stylesheet" type="text/css" href="../reports-book.css"> -->

</head>
<body><div class="book"><!-- WEB ONLY--><div class="web-only">
<table class="header" cellspacing="0" cellpadding="0" width="100%">
  <tr>
    <td class="icon"><a href="http://www.unicode.org">
    <img align="middle" alt="[Unicode]" border="0" src="../logo60s2.gif" width="34" height="33"></a>&nbsp;&nbsp;<a class="bar" href="../index.html">Technical 
    Reports</a></td>
  </tr>
  <tr>
    <td class="gray">&nbsp;</td>
  </tr>
</table>
</div> <!-- END WEB ONLY -->
<div class="body">
  <h2 class="uaxtitle">Unicode Standard Annex&nbsp;#31</h2>
  <h1>Identifier <span class="nocap">and</span> Pattern Syntax</h1>
  <!-- START WEB ONLY -->
  <div class="web-only">
  <table border="1" cellpadding="2" width="90%">
    <tr>
      <td valign="top" width="20%">Version</td>
      <td valign="top">Unicode 5.0.0</td>
    </tr>
    <tr>
      <td valign="top">Authors</td>
      <td valign="top">Mark Davis (<a href="mailto:mark.davis@google.com">mark.davis@google.com</a>)</td>
    </tr>
    <tr>
      <td valign="top">Date</td>
      <td valign="top">2006-09-15</td>
    </tr>
    <tr>
      <td valign="top">This Version</td>
      <td valign="top">
      <a href="tr31-7.html">
		http://www.unicode.org/reports/tr31/tr31-7.html</a></td>
    </tr>
    <tr>
      <td valign="top">Previous Version</td>
      <td valign="top">
      <a href="tr31-5.html">
      http://www.unicode.org/reports/tr31/tr31-5.html</a></td>
    </tr>
    <tr>
      <td valign="top">Latest Version</td>
      <td valign="top"><a href="index.html">
      http://www.unicode.org/reports/tr31/</a></td>
    </tr>
    <tr>
      <td valign="top">Revision</td>
      <td valign="top"><a href="tr31-7.html#Modifications">7</a></td>
    </tr>
  </table>
  </div>
  <h4 class="summary">Summary</h4>
  <p><i>This annex describes specifications for recommended defaults for the use of Unicode in 
  the definitions of identifiers and in pattern-based syntax. It also supplies guidelines for use of normalization with identifiers.</i></p>
  <div class="web-only">
  
  <h4 class="status">Status</h4>
  <p><i>This document has been reviewed by Unicode members and other interested 
	parties, and has been approved for publication by the Unicode Consortium. 
	This is a stable document and may be used as reference material or cited as 
	a normative reference by other specifications.</i></p>
  <blockquote>
    <p><i><b>A Unicode Standard Annex (UAX)</b> forms an integral part of the 
	Unicode Standard, but is published online as a separate document. The 
	Unicode Standard may require conformance to normative content in a Unicode 
	Standard Annex, if so specified in the Conformance chapter of that version 
	of the Unicode Standard. The version number of a UAX document corresponds to 
	the version of the Unicode Standard of which it forms a part.</i></p>
  </blockquote>
  <p><i>Please submit corrigenda and other comments with the online reporting form [<a href="../tr41/tr41-1.html#Feedback">Feedback</a>]. 
  Related information that is useful in understanding this annex is found in
  Unicode Standard Annex #41, “<a href="../tr41/tr41-1.html">Common References for Unicode Standard Annexes</a>.” For the latest version of the Unicode Standard, see [<a href="../tr41/tr41-1.html#Unicode">Unicode</a>]. 
  For a list of current Unicode Technical Reports, see [<a href="../tr41/tr41-1.html#Reports">Reports</a>]. For more 
  information about versions of the Unicode Standard, see [<a href="../tr41/tr41-1.html#Versions">Versions</a>].</i></p>
  </div>
  <!-- END WEB ONLY -->
  <h4 class="contents">Contents</h4>
  <blockquote>
    <ul class="toc">
      <li>1&nbsp; <a href="tr31-7.html#Introduction">Introduction</a><ul class="toc"><li>1.1&nbsp; <a href="tr31-7.html#Conformance">Conformance</a></li></ul></li>
      <li>2&nbsp; <a href="tr31-7.html#Default_Identifier_Syntax">Default Identifier Syntax</a><ul class="toc">
  <li>2.1&nbsp; <a href="tr31-7.html#Combining_Marks">Combining Marks</a></li>
  		<li>2.2&nbsp; <a href="tr31-7.html#Layout_and_Format_Control_Characters">Layout and Format Control Characters</a></li>
  <li>2.3&nbsp; <a href="tr31-7.html#Specific_Character_Adjustments">Specific Character Adjustments</a></li>
  <li>2.4&nbsp; <a href="tr31-7.html#Backward_Compatibility">Backward Compatibility</a></li>
	</ul>
	</li>
      <li>3&nbsp; <a href="tr31-7.html#Alternative_Identifier_Syntax">Alternative Identifier Syntax</a></li>
      <li>4&nbsp; <a href="tr31-7.html#Pattern_Syntax">Pattern Syntax</a></li>
      <li>5&nbsp; <a href="tr31-7.html#normalization_and_case">Normalization and Case</a><ul class="toc">
      <li>5.1&nbsp; <a href="tr31-7.html#NFKC_Modifications">NFKC Modifications</a></li></ul></li>
      <li><a href="tr31-7.html#Acknowledgments">Acknowledgments</a></li>
      <li><a href="tr31-7.html#References">References</a></li>
      <li><a href="tr31-7.html#Modifications">Modifications</a></li>
    </ul>
  </blockquote>
  
  <hr><div class="book-only"><p>&nbsp;</p></div>
  <h2 class="section">1 <a name="Introduction">Introduction</a></h2>
  <p>A common task facing an implementer of the Unicode Standard is the provision of a parsing 
  and/or lexing engine for identifiers, such as programming language variables 
	or domain names. To assist in the standard treatment of identifiers in 
  Unicode character-based parsers and lexical analyzers, a set of specifications is provided here as a recommended default 
  for the definition of identifier syntax. These guidelines are no more complex than current rules 
  in the common programming languages, except that they include more characters of different types.
  This annex also provides guidelines for the user of normalization and case insensitivity 
  with identifiers, expanding on a section that was originally in Unicode 
	Standard Annex #15, &#x201C;Unicode Normalization 
  Forms&#x201D; [<a href="../tr41/tr41-1.html#UAX15">UAX15</a>].</p>
  <p>The specification in this annex provide a definition of identifiers that is 
	guaranteed to be backward compatible with each successive release of 
	Unicode, but also allows any 
  appropriate new Unicode characters to become available in identifiers. In 
	addition, Unicode character properties for stable pattern 
  syntax are provided. The resulting pattern syntax is stable over future versions of the Unicode Standard. These 
	properties can either be 
  used alone or in conjunction with the identifier characters.</p>
	<p><i>Figure 1</i> shows the disjoint categories of code points defined in 
	this annex (the sizes of the boxes are not to scale):</p>
  <div align="center">
  <center>
    <p class="caption">Figure 1. <span style="font-weight: 400">Code Point 
	Categories 
	for Identifier Parsing</span></p>
    <table border="1" cellpadding="20" cellspacing="0" style="border-collapse: collapse">
      <tr>
        <td style="vertical-align: middle; text-align: center">ID_Start<br>
        Characters</td>
        <td style="vertical-align: middle; text-align: center" class="lightblue"><p>Pattern_Syntax<br>
        Characters</p>
        <td style="vertical-align: middle; text-align: center" class="medgray" rowspan="3" width="50%">
        Unassigned Code Points</td>
      </tr>
      <tr>
        <td style="vertical-align: middle; text-align: center">ID Nonstart<br>
        Characters</td>
        <td style="text-align: center; vertical-align: middle" class="lightblue">Pattern_White_Space<br>
        Characters</td>
      </tr>
      <tr>
        <td style="text-align: center; vertical-align: middle" height="66" colspan="2" class="lightyellow">&nbsp;<br>
        Other Assigned<br>
        Code Points<br>
        </td>
      </tr>
    </table>
    </center>
  </div>
  <p>The set consisting of the union of <i>ID_Start</i> and <i>ID Nonstart</i> 
	characters is known as
  <i>Identifier Characters</i> and has the property <i>ID_Continue</i>. The <i>ID Nonstart</i> 
	set is defined as the set difference <i>ID_Continue</i> minus <i>ID_Start</i>.
	While lexical rules are traditionally expressed in terms of the latter, the 
	discussion here is simplified by referring to disjoint categories.</p>
	<p><span class="run_in">Stability.</span> There are certain features that developers can depend on for stability:</p>
  <ul>
    <li>Identifier characters, Pattern_Syntax characters, and Pattern_White_Space
	are disjoint: 
    they will never overlap.</li>
    <li>The Identifier characters are always a superset of the ID_Start characters.</li>
    <li>The Pattern_Syntax characters and Pattern_White_Space characters are immutable and 
    will not change over successive versions of Unicode.</li>
    <li>The ID_Start and ID Nonstart characters may grow over time, 
    either by the addition of new characters provided in a future version of Unicode or (in rare 
    cases) by the addition of characters that were in Other. However, neither will ever decrease.</li>
  </ul>
  <p>In successive versions of Unicode, the only allowed changes of characters from one of 
  the above classes to another are those listed with a + sign in <i>Table 1.</i></p>
  <div align="center">
<center>
      <p class="caption">Table 1. <span style="font-weight: 400">Permitted Changes in Future Versions</span></p>
    <table border="1" cellpadding="0" cellspacing="1" style="border-collapse: collapse">
      <tr>
        <td width="25%">&nbsp;</td>
        <th width="25%" style="text-align: center">ID_Start</th>
        <th width="25%" style="text-align: center">ID Nonstart</th>
        <th width="25%" style="text-align: center">Other Assigned</th>
      </tr>
      <tr>
        <th width="25%" style="text-align: center">Unassigned</th>
        <td width="25%" style="text-align: center"><b><font size="4">+</font></b></td>
        <td width="25%" style="text-align: center"><b><font size="4">+</font></b></td>
        <td width="25%" style="text-align: center"><b><font size="4">+</font></b></td>
      </tr>
      <tr>
        <th width="25%" style="text-align: center">&nbsp;Other Assigned&nbsp;</th>
        <td width="25%" style="text-align: center"><b><font size="4">+</font></b></td>
        <td width="25%" style="text-align: center"><b><font size="4">+</font></b></td>
        <td width="25%" style="text-align: center">&nbsp;</td>
      </tr>
      <tr>
        <th width="25%" style="text-align: center">ID Nonstart</th>
        <td width="25%" style="text-align: center"><b><font size="4">+</font></b></td>
        <td width="25%" style="text-align: center">&nbsp;</td>
        <td width="25%" style="text-align: center">&nbsp;</td>
      </tr>
    </table>
    </center>
  </div>
  <p>The Unicode Consortium has formally adopted a stability policy on identifiers. For more 
  information, see [<a href="../tr41/tr41-1.html#Stability">Stability</a>].</p>
  <p><span class="run_in">Programming Languages.</span> Each programming language standard has its own identifier syntax; different programming 
  languages have different conventions for the use of certain characters such as $, @, #, 
	and _ in 
  identifiers. To extend such a syntax to cover the full behavior of a Unicode implementation, 
  implementers may combine those specific rules with the syntax and properties provided 
  here.</p>
  <p>Each programming language can define its identifier syntax as <i>relative</i> 
  to the Unicode identifier syntax, such as saying that identifiers are defined by the Unicode 
  properties, with the addition of &#x201C;$&#x201D;. By addition or subtraction of a small set of language 
  specific characters, a programming language standard can easily track a growing repertoire of 
  Unicode characters in a compatible way.</p>
  <p>Similarly, each programming language can define its own whitespace characters or syntax 
  characters relative to the Unicode Pattern_White_Space or 
        Pattern_Syntax characters, with some specified 
  set of additions or subtractions.</p>
  <p>Systems that want to extend identifiers so as to encompass words used in natural languages may 
  add characters identified in <span class="section">Section </span><span class="secno">4, </span><i>Word Boundaries</i>, of [<a href="../tr41/tr41-1.html#UAX29">UAX29</a>] with 
  the property values Katakana, ALetter, and MidLetter, plus characters described in the notes at 
  the end of that section.</p>
  <p>To preserve the disjoint nature of the categories illustrated in <i>Figure 
	1</i>, any character <i>added</i> to one of the categories must be <i>
  subtracted</i> from the others.</p>
  <blockquote>
    <p><span class="note">Note:</span> In many cases there are important security 
    implications that may require additional constraints on identifiers. For more information, see [<a href="../tr41/tr41-1.html#UTR36">UTR36</a>].</p>
  </blockquote>
  <h3 class="section">1.1 <a name="Conformance">Conformance</a></h3>
  <p>The following describes the possible ways that an implementation can claim conformance to this 
  specification.</p>
  <table class="noborder" cellspacing="0" cellpadding="4">
    <tr>
      <td class="rule_head" nowrap>UAX31-<a name="C1">C1</a>.</td>
      <td class="rule_body">An implementation claiming conformance to this specification at any 
      Level shall identify the version of this specification and the version of the Unicode 
      Standard.<br>
		</td>
    </tr>
    <tr>
      <td class="rule_head" nowrap>UAX31-<a name="C2">C2</a>.</td>
      <td class="rule_body">An implementation claiming conformance to Level 1 of this specification 
      shall describe which of the following it observes:<ul>
        <li><a href="tr31-7.html#R1">R1 Default Identifiers</a></li>
        <li><a href="tr31-7.html#R2">R2 Alternative Identifiers</a></li>
        <li><a href="tr31-7.html#R3">R3 Pattern_White_Space and Pattern_Syntax Characters</a></li>
        <li><a href="tr31-7.html#R4">R4 Normalized Identifiers</a></li>
        <li><a href="tr31-7.html#R5">R5 Case-Insensitive Identifiers</a></li>
      </ul>
      </td>
    </tr>
  </table>
  <h2 class="section">2 <a name="Default_Identifier_Syntax">Default Identifier Syntax</a></h2>
  <p>The formal syntax provided here captures the general intent that an identifier consists of a 
  string of characters beginning with a letter or an ideograph, and following with any number of 
  letters, ideographs, digits, or underscores. It provides a definition of identifiers that is 
  guaranteed to be backward compatible with each successive release of Unicode, but also adds any 
  appropriate new Unicode characters.</p>
  <h4>D1. Default Identifier Syntax</h4>
  <p><code>&lt;identifier&gt; := &lt;ID_Start&gt; &lt;ID_Continue&gt;*</code> </p>
  <p>Identifiers are defined by the sets of lexical classes defined as 
	properties in the Unicode 
	Character Database. These properties are shown in <i>Table 2</i>.</p>
	<div align="center">
<center>
    <p class="caption">Table 2. <span style="font-weight: 400">Lexical Classes for Identifiers</span></p>
  <table cellspacing="0" cellpadding="4" border="1">
    <tr>
      <th align="left">Properties</th>
      <th align="left">Alternates</th>
      <th align="left">General Description of Coverage</th>
    </tr>
    <tr>
      <td><code>ID_Start</code></td>
      <td><code>XID_Start</code></td>
      <td>Characters having the Unicode General_Category of uppercase letters, lowercase letters, titlecase letters, modifier letters, other letters, 
      letter numbers, plus stability extensions. 
      Note that &#x201C;other letters&#x201D; includes ideographs.</td>
    </tr>
    <tr>
      <td><code>ID_Continue</code></td>
      <td><code>XID_Continue</code></td>
      <td>All of the above, plus characters having the 
      Unicode General_Category of nonspacing marks (Mn), spacing combining marks 
		(Mc), decimal nubmer (Nd), connector punctuations (Pc), plus stability 
      extensions. These are also known simply as <i>Identifier Characters</i>, because they are 
      a superset of the <code>ID_Start</code>.</td>
    </tr>
  </table>
  </center>
  </div>
  <p>The innovations in the identifier syntax to cover the Unicode Standard include the following:
  </p>
  <ul>
    <li>Incorporation of proper handling of combining marks.</li>
    <li>Allowance for layout and format control characters, which should be ignored when parsing 
    identifiers.</li>
    <li>The XID_Start and XID_Continue properties are improved lexical classes that incorporate the 
	changes described in <a href="tr31-7.html#NFKC_Modifications"><span class="section">Section </span><span class="secno">5.1,</span> <i>NFKC Modifications</i></a>. They are 
    recommended for most purposes, especially for security, over the original ID_Start and ID_Continue properties.</li>
  </ul>
  <h3 class="section">2.1 <a name="Combining_Marks">Combining Marks</a></h3>
  <p>Combining marks are accounted for in identifier syntax: a composed character sequence 
  consisting of a base character followed by any number of combining marks is valid in an 
  identifier. Combining marks are required in the representation of many languages, and the 
  conformance rules in <i>Chapter 3, Conformance</i>, of [<a href="../tr41/tr41-1.html#Unicode">Unicode</a>] require the 
  interpretation of canonical-equivalent character sequences. </p>
  <p>Enclosing combining marks (such as U+20DD..U+20E0) are excluded from the 
	definition of the<code> </code>lexical class <code>ID_Continue</code>, because the composite characters that result from their 
  composition with letters are themselves not normally considered valid constituents of these 
  identifiers. </p>
  <h3 class="section">2.2 <a name="Layout_and_Format_Control_Characters">Layout and Format Control Characters</a></h3>
  <p>Certain Unicode characters are used to control joining behavior, bidirectional ordering 
  control, and alternative formats for display. These have the General_Category value of Cf. Unlike 
  space characters or other delimiters, they do not indicate word, line, or other unit boundaries.</p>
  <p>While it is possible to ignore these characters in determining identifiers, the recommendation 
  is to not ignore them and to not permit them in identifiers except in special cases. This is because 
  of the possibility for confusion between two visually identical strings; see [<a href="../tr41/tr41-1.html#UTR36">UTR36</a>]. 
  Some possible exceptions are the ZWJ and ZWNJ in certain contexts, such as between certain 
  characters in Indic words.</p>
  <h3 class="section">2.3 <a name="Specific_Character_Adjustments">Specific Character Adjustments</a></h3>
  <p>Specific identifier syntaxes can be treated as tailorings (or <i>
  profiles</i>) of the generic syntax based on character properties. For example, SQL 
  identifiers allow an underscore as an identifier continue, but not as an identifier start; C 
  identifiers allow an underscore as either an identifier continue or an identifier start. Specific 
  languages may also want to exclude the characters that have a Decomposition_Type 
  other than Canonical or None, or to exclude some subset of those, such 
  as those with a Decomposition_Type equal to Font.</p>
  <p>There are circumstances in which identifers are expected to more fully 
  encompass words or phrases used in natural languages. In these cases, a profile should consider 
  whether the characters in<i> Table 3 </i>should be allowed in identifiers, and perhaps others, depending 
  on the languages in question. In some environments even spaces are allowed in identifiers, such as 
  in SQL: <i>SELECT * FROM Employee Pension.</i></p>
	<p class="caption">Table 3. <span style="font-weight: 400">Characters for 
	Natural Language Identifiers</span></p>
  <blockquote>
    <p style="margin-top:-.5em">0027 (&#39;) APOSTROPHE<br>
    002D (-) HYPHEN-MINUS<br>
    002E (.) FULL STOP<br>
    003A (:) COLON<br>
    00B7 (·) MIDDLE DOT<br>
    058A (֊) ARMENIAN HYPHEN<br>
    05F3 (׳) HEBREW PUNCTUATION GERESH<br>
    05F4 (״) HEBREW PUNCTUATION GERSHAYIM<br>
    200C (<span class="specials-book"></span>) ZERO WIDTH NON-JOINER<br>
    200D (<span class="specials-book"></span>) ZERO WIDTH JOINER<br>
    2010 (‐) HYPHEN<br>
    2019 (’) RIGHT SINGLE QUOTATION MARK<br>
    2027 (‧) HYPHENATION POINT<br>
    30A0 (=) KATAKANA-HIRAGANA DOUBLE HYPHEN</p>
  </blockquote>
  <p>For more information on characters that may occur in words, see 
  <span class="section">Section </span><span class="secno">4,</span> <i>Word Boundaries</i>, in [<a href="../tr41/tr41-1.html#UAX29">UAX29</a>].</p>
  <p>For programming language identifiers, normalization and case have a number of important 
  implications. For a discussion of these issues, see 
	<a href="tr31-7.html#normalization_and_case"><span class="section">Section </span><span class="secno">5,</span> <i>Normalization and Case</i></a>.</p>
  <h3 class="section">2.4 <a name="Backward_Compatibility">Backward Compatibility</a></h3>
  <p>Unicode General_Category values are kept as stable as possible, but they can change across 
  versions of the Unicode Standard. The bulk of the characters having a given value are determined 
  by other properties, and the coverage expands in the future according to the assignment of those 
  properties. In addition, the Other_ID_Start property adds a small list of characters that 
  qualified as ID_Start characters in some previous version of 
	Unicode solely on the basis of their General_Category properties, but that 
	no longer qualify in the current version. This list consists of four characters:</p>
  <blockquote>
    U+2118 (<span class="mathsym3">℘</span>) <span class="name"> Script Capital P<br>
	</span>U+212E (<span class="mathsym3">&#x212E;</span>)<span class="name"> Estimated Symbol<br>
	</span>U+309B (&#x309B;)<span class="name"> Katakana-Hiragana 
        Voiced Sound Mark<br>
	</span>U+309C (&#x309C;)<span class="name"> Katakana-Hiragana 
        Semi-Voiced Sound Mark</span></blockquote>
  <p>Similarly, the Other_ID_Continue property adds a small list of characters that qualified as ID_Continue characters in some previous version of Unicode solely on the basis of 
  their General_Category properties, but that no longer qualify in the current version. 
	This list consists of nine characters: </p>
  <blockquote>
    U+1369 (&#x1369;)<span class="name"> ETHIOPIC DIGIT ONE</span>...U+1371 (&#x1371;)<span class="name"> ETHIOPIC DIGIT 
        NINE</span></blockquote>
  <p>The Other_ID_Start and Other_ID_Continue properties are thus designed 
  to ensure that the Unicode identifier specification is backward compatible. Any sequence of 
  characters that qualified as an identifier in some version of Unicode will continue to qualify as 
  an identifier in future versions.</p>
  <table class="noborder">
    <tr>
      <td class="noborder"><b><i><a name="R1" href="tr31-7.html#R1">R1&nbsp;</a></i></b></td>
      <td class="noborder"><b><i>Default Identifiers</i></b></td>
    </tr>
    <tr>
      <td class="noborder">&nbsp;</td>
      <td class="noborder"><p style="margin-bottom:.75em">To meet this requirement, an implementation shall use 
		definition D1 and the 
      properties ID_Start and ID_Continue (or XID_Start and XID_Continue) to 
		determine whether a string is an identifier.</p>
		<div class="book-only"><p style="margin-bottom:.75em">&nbsp;</p></div><p>Alternatively, it shall declare that it uses a
      <i>profile</i> and define that profile with a precise list 
      of characters that are added to or removed from the above properties and/or provide a list of 
      additional constraints on identifiers.</p></td>
    </tr>
  </table>
  <h2 class="section">3 <a name="Alternative_Identifier_Syntax">Alternative Identifier Syntax</a></h2>
  <p>The disadvantage of working with the lexical classes defined previously is the storage space 
  needed for the detailed definitions, plus the fact that with each new version of the Unicode 
  Standard new characters are added, which an existing parser would not be able to recognize. In 
  other words, the recommendations based on that table are not upwardly compatible. </p>
  <p>This problem can be addressed by turning the question around. Instead of defining the set of 
  code points that are allowed, define a small, fixed set of code points that are reserved for 
  syntactic use and allow everything else (including unassigned code points) as part of an 
  identifier. All parsers written to this specification would behave the same way for all versions 
  of the Unicode Standard, because the classification of code points is fixed forever. </p>
  <p>The drawback of this method is that it allows “nonsense” to be part of identifiers because the 
  concerns of lexical classification and of human intelligibility are separated. Human 
  intelligibility can, however, be addressed by other means, such as usage guidelines that encourage 
  a restriction to meaningful terms for identifiers. For an example of such guidelines, see the XML 
  1.1 specification by the W3C [<a href="../tr41/tr41-1.html#XML1.1">XML1.1</a>]. </p>
  <p>By increasing the set of disallowed characters, a reasonably intuitive recommendation for 
  identifiers can be achieved. This approach uses the full specification of identifier classes, as 
  of a particular version of the Unicode Standard, and permanently disallows any characters not 
  recommended in that version for inclusion in identifiers. All code points unassigned as of that 
  version would be allowed in identifiers, so that any future additions to the standard would 
  already be accounted for. This approach ensures both upwardly compatible identifier stability and 
  a reasonable division of characters into those that do and do not make human sense as part of 
  identifiers. </p>
  <p>With or without such fine-tuning, such a compromise approach still incurs the expense of 
  implementing large lists of code points. While they no longer change over time, it is a matter of 
  choice whether the benefit of enforcing somewhat word-like identifiers justifies their cost.</p>
  <p>Alternatively, one can use the properties described below and allow all sequences of 
  characters to be identifiers that are neither Pattern_Syntax nor Pattern_White_Space. This has the 
  advantage of simplicity and small tables, but allows many more “unnatural” identifiers.</p>
  <table class="noborder">
    <tr>
      <td class="noborder"><b><i><a name="R2" href="tr31-7.html#R2">R2&nbsp;</a></i></b></td>
      <td class="noborder"><b><i>Alternative Identifiers</i></b></td>
    </tr>
    <tr>
      <td class="noborder">&nbsp;</td>
      <td class="noborder"><p style="margin-bottom:.75em">To meet this requirement, an implementation shall define identifiers to 
      be any string of characters that contains neither Pattern_White_Space nor Pattern_Syntax 
      characters.</p><p>Alternatively, it shall declare that it uses a <i>profile</i> 
      and define that profile with a precise list of characters that are added to or removed 
      from the sets of code points defined by these properties.</td>
    </tr>
  </table>
  <h2 class="section">4 <a name="Pattern_Syntax">Pattern Syntax</a></h2>
  <p>There are many circumstances where software interprets patterns that are a mixture of literal 
  characters, whitespace, and syntax characters. Examples include regular expressions, Java 
  collation rules, Excel or ICU number formats, and many others. In the past, 
	regular expressions and other formal languages have been forced to use clumsy combinations of ASCII characters for their syntax. 
  As Unicode becomes ubiquitous, some of these will start to use non-ASCII characters for their 
  syntax: first as more readable optional alternatives, then eventually as the standard syntax.</p>
  <p>For forward and backward compatibility, it is advantageous to have a fixed set of whitespace 
  and syntax code points for use in patterns. This follows the recommendations that the Unicode 
  Consortium made regarding completely stable identifiers, and the practice that is seen in XML 1.1 
  [<a href="../tr41/tr41-1.html#XML1.1">XML1.1</a>]. (In particular, the Unicode Consortium is committed to not allocating 
  characters suitable for identifiers in the range U+2190..U+2BFF, which is being used by XML 1.1.)</p>
  <p>With a fixed set of whitespace and syntax code points, a pattern language can then have a 
  policy requiring all possible syntax characters (even ones currently unused) to be quoted if they 
  are literals. Using this policy preserves the freedom to extend the syntax in the future by 
  using those characters. Past patterns on future systems will always work; future patterns on past 
  systems will signal an error instead of silently producing the wrong results.</p>
  <h5>Example 1:</h5>
  <blockquote>
    <p>In version 1.0 of program X, &#39;≈&#39; is a reserved syntax character; that is, it does not perform an 
    operation, and it needs to be quoted. In this example, &#39;\&#39; <i>quotes</i> the next character; that 
    is, it causes it to be treated as a literal instead of a syntax character. In 
	version 2.0 of program X, &#39;≈&#39; is given a real meaning—for example, &#x201C;uppercase 
	the subsequent characters&#x201D;. </p>
    <ul>
      <li>The pattern abc...\≈...xyz works on both versions 1.0 and 2.0, and refers to the literal 
      character because it is quoted in both cases. </li>
      <li>The pattern abc...≈...xyz works on version 2.0 and uppercases the following characters. On version 
      1.0, the engine (rightfully) has no idea what to do with ≈. Rather than silently fail (by 
      ignoring ≈ or turning it into a literal), it has the opportunity signal an error.</li>
    </ul>
  </blockquote>
  <p>As of [<a href="../tr41/tr41-1.html#Unicode4.1">Unicode4.1</a>], two Unicode character properties can be used for for 
  stable syntax: Pattern_White_Space and Pattern_Syntax. &nbsp;Particular pattern languages may, 
  of course, override these recommendations (for example, adding or removing other characters for 
  compatibility in ASCII). </p>
  <p>For stability, the values of these properties are absolutely invariant, not changing with successive 
  versions of Unicode. Of course, this does not limit the ability of the Unicode Standard to add 
  more symbol or whitespace characters, but the syntax and whitespace characters recommended for use 
  in patterns will not change.</p>
  <p>When <i>generating</i> rules or patterns, all whitespace and syntax code points that are to be 
  literals require quoting, using whatever quoting mechanism is available. For readability, it is 
  recommended practice to quote or escape all literal whitespace and default ignorable code points 
  as well.</p>
  <h5>Example 2:</h5>
  <blockquote>
    <p>Consider the following, where the items in angle brackets indicate 
	literal characters:</p>
    <blockquote>
		<p>a&lt;<span class="name">SPACE</span>&gt;b =&gt; x&lt;<span class="name">ZERO 
      WIDTH SPACE</span>&gt;y&nbsp; + z;</p>
	</blockquote>
    <p>Because &lt;<span class="name">SPACE</span>&gt; is a Pattern_White_Space 
    character, it requires quoting. Because &lt;<span class="name">ZERO WIDTH 
    SPACE</span>&gt; is a default ignorable character, it should also be quoted for readability. So if 
    in this example \uXXXX is used for hex expression, but resolved before 
	quoting, and single quotes are used for quoting, this might be expressed as</p>
    <blockquote>
		<p>&#39;a\u0020b&#39; =&gt; &#39;x\u200By&#39; + z;</p>
	</blockquote>
  </blockquote>
  <table class="noborder">
    <tr>
      <td class="noborder"><i><b><a name="R3" href="tr31-7.html#R3">R3&nbsp;</a></b></i></td>
      <td class="noborder"><i><b>Pattern_White_Space</b></i> <i><b>and Pattern_Syntax Characters</b></i></td>
    </tr>
    <tr>
      <td class="noborder">&nbsp;</td>
      <td class="noborder">
		<p class="stdp">To meet this requirement, an implementation shall use Pattern_White_Space 
      characters as all and only those characters interpreted as whitespace in parsing, and shall 
      use Pattern_Syntax characters as all and only those characters with syntactic use.</p><p>
		Alternatively, it shall declare that it uses a <i>profile</i> and define that profile 
      with a precise list of characters that are added to or removed from the sets of code 
      points defined by these properties.</p>
      <ul>
        <li>All characters other than those defined by these properties are available 
		for use as 
        identifiers or literals.</li>
      </ul>
      </td>
    </tr>
  </table>
  <h2 class="section">5 <a name="normalization_and_case">Normalization and Case</a></h2>
  <table class="noborder">
    <tr>
      <td class="noborder"><i><b><a name="R4" href="tr31-7.html#R4">R4&nbsp;</a></b></i></td>
      <td class="noborder"><i><b>Normalized Identifiers</b></i></td>
    </tr>
    <tr>
      <td class="noborder">&nbsp;</td>
      <td class="noborder">
		<p class="stdp">To meet this requirement, an implementation shall 
		specify the Normalization Form and shall provide a precise list of any characters that are excluded from 
      normalization. If the Normalization Form is NFKC, the implementation shall apply the modifications in
		<a href="tr31-7.html#NFKC_Modifications"><span class="section">Section </span><span class="secno">5.1,</span><i> NFKC Modifications</i></a>, given by the properties XID_Start 
      and XID_Continue. Except for identifiers containing excluded characters, any two 
      identifiers that have the same Normalization Form shall be treated as equivalent by the 
      implementation.</p>
		</td>
    </tr>
    <tr>
      <td class="noborder"><i><b><a name="R5" href="tr31-7.html#R5">R5</a></b></i></td>
      <td class="noborder"><i><b>Case-Insensitive Identifiers</b></i></td>
    </tr>
    <tr>
      <td class="noborder">&nbsp;</td>
      <td class="noborder"><p class="stdp">To meet this requirement, an implementation shall specify either simple 
      or full case folding, and adhere to the Unicode specification for that folding. Any two 
      identifiers that have the same case-folded form shall be treated as equivalent by the 
      implementation.</p></td>
    </tr>
  </table>
  <p>This section discusses issues that must be taken into account when considering 
  normalization and case folding of identifiers in programming languages or scripting languages.
  Using normalization avoids many problems where apparently identical identifiers are not treated 
  equivalently. Such problems can appear both during compilation and during linking—in particular 
  across different programming languages. To avoid such problems, programming 
  languages can normalize identifiers before storing or comparing them. Generally if the programming 
  language has case-sensitive identifiers, then Normalization Form C is appropriate; 
	whereas, if the 
  programming language has case-insensitive identifiers, then Normalization Form KC is more 
  appropriate.</p>
  <blockquote>
    <p><span class="note">Note:</span> In mathematically oriented programming languages that make distinctive use of 
    the Mathematical Alphanumeric Symbols, such as U+1D400 
    <span class="name">MATHEMATICAL BOLD CAPITAL A</span>, an application of NFKC must filter characters 
    to exclude characters with the property value Decomposition_Type=Font. 
    For related information, see Unicode Technical Report 
    #30, &#x201C;<a href="../tr30/index.html">Character Foldings</a>.”</p>
  </blockquote>
  <h3 class="section">5.1 <a name="NFKC_Modifications">NFKC Modifications</a></h3>
  <p>Where programming languages are using NFKC to fold differences 
  between characters, they need the following modifications of the identifier syntax from the 
  Unicode Standard to deal with the idiosyncrasies of a small number of characters. 
	These modifications are reflected in the XID_Start 
      and XID_Continue properties.</p>
  <ol>
    <li><span class="run_in">Middle dot.</span> Because most Catalan legacy data is encoded in 
    Latin-1, U+00B7 <span class="name">MIDDLE DOT</span> is allowed in 
	ID_Continue. If the programming language is using a dot as an 
    operator, then U+2219 <span class="name">BULLET OPERATOR</span><span> or</span> 
	U+22C5 <span class="name">DOT OPERATOR</span> should be used instead. However, care should be 
    taken when dealing with U+00B7 <span class="name">MIDDLE DOT</span><span>, as many 
    processes will assume its use as punctuation, rather than as a letter extender.</span></li>
	<li><span class="run_in">Characters that behave like combining marks. 
	</span>Certain characters are not formally 
    combining characters, although they behave in most respects as if they were. In most cases, the 
    mismatch does not cause a problem, but when these characters have compatibility decompositions, 
    they can cause identifiers not to be closed under Normalization Form KC. In particular, the 
    following four characters are included in XID_Continue and 
    not XID_Start: 
	<ul style="list-style-type:none">
		<li>U+0E33 <span class="name">THAI CHARACTER SARA AM </span> </li>
		<li>U+0EB3 <span class="name">LAO VOWEL SIGN AM </span> </li>
		<li>U+FF9E <span class="name">HALFWIDTH KATAKANA VOICED SOUND MARK
		</span> </li>
		<li>U+FF9F <span class="name">HALFWIDTH KATAKANA SEMI-VOICED SOUND MARK</span> </li>
	</ul></li>
	<li><span class="run_in">Irregularly decomposing characters.</span> U+037A <span class="name">GREEK 
    YPOGEGRAMMENI</span> and certain Arabic presentation forms have irregular 
    compatibility decompositions and are excluded from both XID_Start 
    and XID_Continue. It is recommended that all Arabic 
    presentation forms be excluded from identifiers in any event, although only a few of them must 
    be excluded for normalization to guarantee identifier closure. </li>
  </ol>
  <p>With these amendments to the identifier syntax, all identifiers are closed under all four 
  Normalization Forms. Identifiers are also closed under case operations (with one exception). This means that for any string S:</p>
	<div class="book-only"><p>&nbsp;</p></div>
	<div align="center">
<center>
    <table border="1" cellspacing="0" style="border-collapse: collapse; padding-left:.2em; padding-right:.2em" id="table1">
      <tr>
        <td style="vertical-align: middle" rowspan="2"><code>isIdentifier(S)</code></td>
        <td style="vertical-align: middle" rowspan="2">implies</td>
        <td style="vertical-align: middle"><code>isIdentifier(toNFD(S))<br>
  isIdentifier(toNFC(S))<br>
  isIdentifier(toNFKD(S))<br>
  isIdentifier(toNFKC(S))</code></td>
        <th style="vertical-align: middle">Normalization Closure</th>
      </tr>
      <tr>
        <td style="vertical-align: middle">
  <p align="center"><code>isIdentifier(toLowercase(S))<br>
  isIdentifier(toUppercase(S))<br>
  isIdentifier(toFoldedcase(S))</code></p>
  		</td>
        <th style="vertical-align: middle">Case Closure</th>
      </tr>
    </table>
    </center>
  </div>
	<p>The one exception for casing is U+0345 <span class="name">COMBINING GREEK YPOGEGRAMMENI</span>. 
  In the very unusual case that U+0345 is at the start of S,
  U+0345 is not in XID_Start, 
  but its uppercase and case-folded versions are. In practice, this is not a problem because of the 
  way normalization is used with identifiers.</p>
  <blockquote>
    <p><span class="note">Note:</span> Those programming languages with 
	case-insensitive identifiers should use the case foldings described in <i>Section 3.13, 
    Default Case Algorithms</i>, of [<a href="../tr41/tr41-1.html#Unicode">Unicode</a>] to produce a 
    case-insensitive normalized form.</p>
  </blockquote>
  <p>When source text is parsed for identifiers, the folding of distinctions (using case 
  mapping or NFKC) must be delayed until after parsing has located the 
  identifiers. Thus such folding of distinctions should not be applied to string literals or to 
  comments in program source text.</p>
  <p>The Unicode Character Database (UCD) provides support for handling case 
	folding with normalization: the property 
  FC_NFKC_Closure can be used in case folding, so that a case folding of an 
  NFKC string is itself normalized. These properties, and the files containing 
  them, are described in the UCD documentation [<a href="../tr41/tr41-1.html#UCD">UCD</a>].</p>
  <h2 class="nonumber"><a name="Acknowledgments">Acknowledgments</a></h2>
  <div class="book-only">
  <p>Mark Davis is the author of the initial version and has added to and 
	maintained the text of this annex.</p></div>
  <p>Thanks to Eric Muller, Asmus Freytag, Julie Allen, Kenneth Whistler, and Martin Duerst for feedback on this 
	annex.</p>
  <h2 class="nonumber"><a name="References">References</a></h2>
	<p>For references for this annex, see Unicode Standard Annex #41, “<a href="../tr41/tr41-1.html">Common 
	References for Unicode Standard Annexes</a>.”</p>
   <h2 class="nonumber"><a name="Modifications">Modifications</a></h2>
	<!-- BOOK ONLY -->
	<div class="book-only">
	<p>For details of the change history, see the online copy of this annex at http://www.unicode.org/reports/tr31/.</p>
	</div>
	<!-- WEB ONLY -->
	<div class="web-only">
  <p>The following summarizes modifications from previous revisions of this 
	annex.</p>
  <h3>Revision 7</h3>
  <ul>
    <li>Introduced the term <i>profile.</i></li>
    <li>Added note on profiles of 
    identifiers for natural language in <i>Section 2.3 <a href="tr31-7.html#Specific_Character_Adjustments">
    Specific Character Adjustments</a></i></li>
    <li>Minor editing for clarity 
    in 2&nbsp;<a href="tr31-7.html#Default_Identifier_Syntax">Default Identifier Syntax</a></li>
    <li>Added note on spaces in 
    identifiers (eg in SQL)</li>
  </ul>
	<p>Revision 6 being a proposed update, only changes between revisions 7 and 
	5 are noted here.</p>
  <h3>Revision 5</h3>
  <ul>
    <li>Removed section 4.1, because the two properties have been accepted for Unicode 4.1.</li>
    <li>Expanded introduction</li>
    <li>Adding information about stability, and tailoring for identifiers.</li>
    <li>Added the list of characters in Other_ID_Continue .</li>
    <li>Changed &lt;identifier_continue&gt; and &lt;identifier_start&gt; to just use the property names, 
    to avoid confusion.</li>
    <li>Included XID_Start and XID_Continue in R1 and elsewhere.</li>
    <li>Added reference to UTR #36, and the phrase &#x201C;or a list of additional constraints on 
    identifiers&#x201D; to R1.</li>
    <li>Changed &#x201C;Coverage&#x201D; to &#x201C;General Description of Coverage,” because the UCD value are definitive.</li>
    <li>Added clarifications in 2.4</li>
    <li>Revamped 2.2 Layout and Format Control Characters</li>
    <li>Minor editing</li>
  </ul>
  <h3>Revision 3</h3>
  <ul>
    <li>Made draft UAX</li>
    <li>Incorporated Annex 7 from UAX #15</li>
    <li>Added Other_ID_Continue for Unicode 4.1</li>
    <li>Added conformance clauses</li>
    <li>Changed &lt;identifier_extend&gt; to &lt;identifier_continue&gt; to better match the property name.</li>
    <li>Some additional edits.</li>
  </ul>
  <h3>Revision 2</h3>
  <ul>
    <li>Modified Pattern_White_Space to remove compatibility characters</li>
    <li>Added example explaining use of Pattern_White_Space</li>
  </ul>
  <h3>Revision 1</h3>
  <ul>
    <li>First version: incorporated section from Unicode 4.0 on Identifiers plus new section on 
    patterns.</li>
  </ul>
  <hr>
  <p class="copyright">Copyright © 2000-2005 Unicode, Inc. All Rights Reserved. The Unicode 
  Consortium makes no expressed or implied warranty of any kind, and assumes no liability for errors 
  or omissions. No liability is assumed for incidental and consequential damages in connection with 
  or arising out of the use of the information or programs contained or accompanying this technical 
  report. The Unicode <a href="http://www.unicode.org/copyright.html">Terms of Use</a> apply.</p>
  <p class="copyright">Unicode and the Unicode logo are trademarks of Unicode, Inc., and are 
  registered in some jurisdictions.</div> <!-- web only -->
  </div> <!-- body -->
  </div> <!-- book -->

</body>

</html>